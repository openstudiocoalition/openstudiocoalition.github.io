<!DOCTYPE html>
<html lang="en">
  <head>
    <title>OpenStudio-Radiance Reference Guide - OpenStudio<sup>&reg;</sup> User Docs</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../../favicon.ico">
    
    <link href="../../css/bootstrap-3.3.0.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.2.0.min.css" rel="stylesheet">
    <link href="../../css/prettify-1.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
  <nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../.."><img alt="" src="../../img/OS_32x32.png"> OpenStudio<sup>&reg;</sup> User Docs</a>
      </div>
      <div class="navbar-collapse collapse">
        <!-- Main navigation -->
        <ul class="nav navbar-nav">
        
          
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown">Getting Started <span class="caret"></span></a>
            <ul class="dropdown-menu" role="menu">
            
              <li>
                <a href="../../getting_started/features">Current Features</a>
              </li>
            
              <li>
                <a href="../../getting_started/roadmap">Planned Features</a>
              </li>
            
              <li>
                <a href="../../getting_started/getting_started">Installation and Introductory Tutorial</a>
              </li>
            
              <li>
                <a href="../../getting_started/about_measures">About Measures</a>
              </li>
            
            </ul>
          </li>
          
        
          
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown">Essential Tutorials <span class="caret"></span></a>
            <ul class="dropdown-menu" role="menu">
            
              <li>
                <a href="../../tutorials/creating_your_model">Creating Your Model</a>
              </li>
            
              <li>
                <a href="../../tutorials/running_your_simulation">Running Simulations & Viewing Results</a>
              </li>
            
              <li>
                <a href="../../tutorials/large_scale_analysis">Large Scale Analysis</a>
              </li>
            
              <li>
                <a href="../../tutorials/radiance_tutorial">Radiance and OpenStudio</a>
              </li>
            
              <li>
                <a href="../../tutorials/tutorial_bcl">Building Component Library</a>
              </li>
            
            </ul>
          </li>
          
        
          
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown">Advanced Tutorials <span class="caret"></span></a>
            <ul class="dropdown-menu" role="menu">
            
              <li>
                <a href="../../tutorials/utility_rate_tariffs">Utiity Rate Tariffs</a>
              </li>
            
              <li>
                <a href="../../tutorials/life_cycle_costing_examples">Life Cycle Cost Analysis</a>
              </li>
            
              <li>
                <a href="../../tutorials/tutorial_gbxmlimport">Import gbXML</a>
              </li>
            
              <li>
                <a href="../../tutorials/tutorial_shadingcontrols">Shading Controls</a>
              </li>
            
              <li>
                <a href="../../tutorials/tutorial_windowproperty_frameanddivider">Window Property Frame and Divider</a>
              </li>
            
            </ul>
          </li>
          
        
          
          <li class="dropdown active">
            <a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown">Reference <span class="caret"></span></a>
            <ul class="dropdown-menu" role="menu">
            
              <li>
                <a href="../openstudio_application_interface">OpenStudio Application Interface Guide</a>
              </li>
            
              <li>
                <a href="../sketchup_plugin_interface">SketchUp Plug-in Interface Guide</a>
              </li>
            
              <li>
                <a href="../geometry_editor">FloorspaceJS</a>
              </li>
            
              <li>
                <a href="../command_line_interface">Command Line Interface</a>
              </li>
            
              <li>
                <a href="../parametric_analysis_tool_2">Parametric Analysis Tool Version 2 (PAT) Interface Guide</a>
              </li>
            
              <li>
                <a href="../model_objects">OpenStudio Model Objects Overview</a>
              </li>
            
              <li>
                <a href="../measure_writing_guide">Measure Writer's Reference Guide</a>
              </li>
            
              <li>
                <a href="../measure_code_examples">Measure Code Examples</a>
              </li>
            
              <li>
                <a href="../developing_measure_collections">Developing Measure Collections</a>
              </li>
            
              <li class="active">
                <a href=".">OpenStudio-Radiance Reference Guide</a>
              </li>
            
              <li>
                <a href="../openstudio_results_measure">OpenStudio Results Measure</a>
              </li>
            
            </ul>
          </li>
          
        
          
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown">Help <span class="caret"></span></a>
            <ul class="dropdown-menu" role="menu">
            
              <li>
                <a href="../../help/training">Find Training</a>
              </li>
            
              <li>
                <a href="../../help/best_practices">Modeling Best Practices</a>
              </li>
            
              <li>
                <a href="../../help/troubleshooting">Troubleshooting</a>
              </li>
            
              <li>
                <a href="../../help/software_license">Software License</a>
              </li>
            
            </ul>
          </li>
          
        
        </ul>

        <!-- Search, Navigation and Repo links -->
        <ul class="nav navbar-nav navbar-right">
        
        </ul>
      </div>
    </div>
  </nav>
</div>
    <div class="container">
      <div class="row">
        <div class="col-md-3">
          <div class="bs-docs-sidebar hidden-print affix well" role="complementary">
  <ul class="nav">
  
    <li class="main active"><a href="#openstudio-radiance-reference-guide">OpenStudio-Radiance Reference Guide</a>
      <ul class="nav">
        
        <li><a href="#overview">Overview</a></li>
        
        <li><a href="#modeling-shading-controls-with-the-3-phase-method">Modeling Shading Controls with the 3-Phase Method</a></li>
        
      </ul>
    </li>
  
  </ul>
  <div class="home-btn">
    <a class="btn btn-default" role="button" href="https://www.openstudio.net">Back to OpenStudio<sup>&reg;</sup></a>
  </div>
</div>
        </div>
        <div class="col-md-9" role="main">
          <h1 id="openstudio-radiance-reference-guide">OpenStudio-Radiance Reference Guide</h1>
<p>This reference guide explains the methods used in OpenStudio to utilize <a href="http://www.radiance-online.org/">Radiance</a> to simulate the daylight ingress in your OpenStudio model, allowing for higher fidelity simulations of daylighting-related energy efficiency measures. Radiance is not constrained to simple geometry, and the OpenStudio model supports interior architectural detail such as <a href="../../../reference/sketchup_plugin_interface#NewInteriorPartitionSurfaceGroup">interior partition surfaces</a> (for representing columns, soffits, furniture, etc) and air walls (for eliminating thermal zone boundaries that do not correspond to any actual building architecture). This allows for a more accurate characterization of the spatial distribution of daylight in the OpenStudio model.</p>
<p>For OpenStudio <a href="https://github.com/NREL/OpenStudio/releases/tag/v1.7.0">v1.7.0</a>, added support for window shades and wall thickness has increased the utility of the Radiance simulation option in the OpenStudio application.</p>
<p>With OpenStudio <a href="https://github.com/NREL/OpenStudio/releases/tag/v1.9.0">v1.9.0</a>, the Radiance simulation option has been refactored (moved) to a measure, eliminating the "daylight simulation engine" selection radio buttons from the app, and modifying the workflow slightly.</p>
<h2 id="overview">Overview</h2>
<p>In short, OpenStudio manages the model translation, simulation, and results processing of an OpenStudio building model (.osm), deriving geometry, materials, loads, schedules, and site information from the OSM. An annual climate-based daylight simulation is performed, new lighting load schedules are generated and embedded in the osm for the subsequent EnergyPlus simulation. In addition, a number of daylight metrics are calculated for those spaces with daylighting objects in them (illuminance maps and glare sensors), and are reported in a comma-delineated format, suitable for import and plotting in the modeler's tool of choice.</p>
<h2 id="modeling-shading-controls-with-the-3-phase-method">Modeling Shading Controls with the 3-Phase Method</h2>
<p>The 3-Phase method is used in OpenStudio for conducting annual climate-based daylight simulations in a reasonably fast manner. This method solves the flux transfer from the sky to the window separately from the flux transfer from the window to the point(s) of interest in the space. These matrices are called the <em>daylight matrix</em> <strong>(DMX)</strong> and <em>view matrix</em> <strong>(VMX)</strong>, respectively. A third matrix called the transmission matrix (T), is represented by a bidirectional scattering distribution function (BSDF). The BSDF optically characterizes the shading layer and is inserted into the matrix and multiplied by a sky matrix (s) for each timestep to give a single hourly result for the model:</p>
<p><strong>I<sub>3ph</sub> = VTDs</strong></p>
<p>Where:</p>
<p>I = Result matrix containing time series of illuminance or luminance result</p>
<p>V = View matrix, relating outgoing directions on window to desired results at interior</p>
<p>T = Transmission matrix, relating incident window directions to exiting directions (BSDF)</p>
<p>D = Daylight matrix, relating sky patches to incident directions on window</p>
<p>s = Sky matrix, a collection of sky vectors (NOTE: in the 3-phase method, the solar flux is represented by the three sky matrix patches closest to the solar position at the given timestep.)</p>
<p>We rely on the rfluxmtx tool in Radiance to handle the creation of all the necessary daylight coefficient matrices, and on some generic BSDFs from the Building Component Library to represent the shading layers. The OpenStudio-to-Radiance model translator groups the building fenestration by each unique combination of the following properties:</p>
<ul>
<li>orientation</li>
<li>visible light transmittance</li>
<li>shading control</li>
</ul>
<p>All windows with no shading control are grouped together into a single group called Window Group Zero (WG0), and are calculated together. Then, windows matching each unique combination of the properties above are also grouped together, into sequentially-numbered groups (WG1, WG2, etc). An annual illuminance schedule for each window group is calculated, and in the case of controlled window groups, a schedule is calculated once for that group with the shades up, and another one for the shades down. A shade schedule is generated, based on incident solar irradiance on the glazing, and this is used to create a final <em>Building Illuminance Schedule</em> which takes the correct timestep illuminance values for each window group and sums them together for each day, for the entire year.</p>

          <div class="footer">
  <p class="text-center"><a href="https://unmethours.com/questions/scope:all/sort:activity-desc/tags:openstudio/">Get Help</a> | <a href="https://www.openstudio.net/contact">Contact Us</a></p>
  <p class="text-center"><a href="https://www.openstudio.net">OpenStudio</a><sup>&reg;</sup> is developed in collaboration by NREL, ANL, LBNL, ORNL, and PNNL.</p>
  <p class="text-center">OpenStudio<sup>&reg;</sup> is a registered trademark of the Alliance for Sustainable Energy, LLC.</p>
  <p class="text-center"><a href="http://www.nrel.gov">NREL</a> is a National Laboratory of the U.S. Department of Energy, Office of Energy Efficiency and Renewable Energy, operated by the Alliance for Sustainable Energy, LLC.</p>
  <p class="text-center"><a href="#">Back to Top</a></p>
</div>
        </div>
      </div>
    </div>
    

    <script src="../../js/jquery-2.1.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.0.min.js"></script>
    <script src="../../js/bootstrap-hover-dropdown-2.0.11.min.js"></script>
    <script src="../../js/prettify-1.0.min.js"></script>
    <script src="../../js/base.js"></script>
  </body>
</html>