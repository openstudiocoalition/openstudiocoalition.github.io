<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Meta tags -->
  
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    
    
    <link rel="shortcut icon" href="../../img/favicon.ico">
  
    <title>Tutorial datetime - OpenStudio Coalition User Docs</title>
  <link href="../../css/bootstrap-3.3.0.min.css" rel="stylesheet">
  <link href="../../css/font-awesome-4.2.0.min.css" rel="stylesheet">
  <link href="../../css/prettify-1.0.css" rel="stylesheet">
  <link href="../../css/base.css" rel="stylesheet">
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
  <![endif]-->
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-59PC2MX91Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'G-59PC2MX91Q');
  </script>
</head>
<body>
<div class="container">
  <nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href=""><img alt="" src="../../img/OSC_32x32.png">OpenStudio Coalition User Docs</a>
      </div>
      <div class="navbar-collapse collapse">
        <!-- Main navigation -->
        <ul class="nav navbar-nav">
          
          
        <li
        >
        <a href="../..">Home</a>
        </li>
        
        
          
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown">About <span
              class="caret"></span></a>
            <ul class="dropdown-menu" role="menu">
              
              <li
              >
              <a href="../../about/openstudio_coalition/">About the OpenStudio Coalition</a>
          </li>
          
              <li
              >
              <a href="../../about/mailing_list/">Join the Mailing List</a>
          </li>
          
              <li
              >
              <a href="../../about/software_license/">Software License</a>
          </li>
          
              <li
              >
              <a href="../../about/features/">Current Features</a>
          </li>
          
              <li
              >
              <a href="../../about/roadmap/">Roadmap Features</a>
          </li>
          
              <li
              >
              <a href="../../about/privacy_policy/">Privacy Policy</a>
          </li>
          
        </ul>
        </li>
        
        
          
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown">Getting Started <span
              class="caret"></span></a>
            <ul class="dropdown-menu" role="menu">
              
              <li
              >
              <a href="../../getting_started/getting_started/">Installation and Introductory Tutorial</a>
          </li>
          
              <li
              >
              <a href="../../getting_started/creating_your_model/">Creating Your Model</a>
          </li>
          
              <li
              >
              <a href="../../getting_started/best_practices/">Best Practices</a>
          </li>
          
              <li
              >
              <a href="../../getting_started/running_your_simulation/">Running Simulations & Viewing Results</a>
          </li>
          
              <li
              >
              <a href="../../getting_started/using_bcl/">Building Component Library</a>
          </li>
          
              <li
              >
              <a href="../../getting_started/large_scale_analysis/">Large Scale Analysis</a>
          </li>
          
              <li
              >
              <a href="../../getting_started/troubleshooting/">Troubleshooting</a>
          </li>
          
        </ul>
        </li>
        
        
          
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown">Tutorials <span
              class="caret"></span></a>
            <ul class="dropdown-menu" role="menu">
              
              <li
              >
              <a href="../utility_rate_tariffs/">Utility Rate Tariffs</a>
          </li>
          
              <li
              >
              <a href="../life_cycle_costing_examples/">Life Cycle Cost Analysis</a>
          </li>
          
              <li
              >
              <a href="../tutorial_gbxmlimport/">Import gbXML</a>
          </li>
          
              <li
              >
              <a href="../tutorial_shadingcontrols/">Shading Controls</a>
          </li>
          
              <li
              >
              <a href="../tutorial_windowproperty_frameanddivider/">Window Property Frame and Divider</a>
          </li>
          
        </ul>
        </li>
        
        
          
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown">Reference <span
              class="caret"></span></a>
            <ul class="dropdown-menu" role="menu">
              
              <li
              >
              <a href="../../reference/openstudio_application_interface/">OpenStudio Application Interface Guide</a>
          </li>
          
              <li
              >
              <a href="../../reference/sketchup_plugin_interface/">SketchUp Plug-in Interface Guide</a>
          </li>
          
              <li
              >
              <a href="../../reference/geometry_editor/">FloorspaceJS</a>
          </li>
          
              <li
              >
              <a href="../../reference/openstudio_results_measure/">OpenStudio Results Measure</a>
          </li>
          
        </ul>
        </li>
        
        
        </ul>

        <!-- Search, Navigation and Repo links -->
        <ul class="nav navbar-nav navbar-right">
          
        </ul>
        <a class="btn btn-primary" role="button" href="/app/" target="_blank" style="margin-top:10px;float:right">
          Login
        </a>
      </div>
    </div>
  </nav>
</div>
<div class="container">
  <div class="row">
    <div class="col-md-3">
      <div class="bs-docs-sidebar hidden-print affix well" role="complementary">
  <ul class="nav">
    
  </ul>
  <div class="caption">
    <ul>
      <li>
        For releases of the OpenStudio Application and the OpenStudio SketchUp Plug-in:
        <a class="btn btn-primary" role="button" style="width:200px" target="_blank"
           href="https://github.com/openstudiocoalition/OpenStudioApplication/releases">OpenStudio Application</a>
        <a class="btn btn-primary" role="button" style="width:200px" target="_blank"
           href="https://github.com/openstudiocoalition/openstudio-sketchup-plugin/releases">SketchUp Plug-in</a>
      </li>
      <li>
        For information about OpenStudio Measures and the OpenStudio SDK:
        <a class="btn btn-primary" role="button" style="width:200px" target="_blank"
           href="https://www.openstudio.net">OpenStudio Project</a>
      </li>
      <li>
        For community support, to post a question, or to search for answers to your energy modeling questions:
        <a class="btn btn-primary" role="button" style="width:200px" target="_blank"
           href="https://unmethours.com/questions/scope:all/sort:activity-desc/tags:openstudio/">Unmet Hours</a>
      </li>
      <li>
        Login to download releases here:
        <a class="btn btn-primary" role="button" style="width:200px" target="_blank" href="/app/">Downloads</a>
      </li>
    </ul>
  </div>
</div>
    </div>
    <div class="col-md-9" role="main">
      <h1>Date and Time in OpenStudio</h1>

<h2 id="dates-in-openstudio">Dates in OpenStudio</h2>
<p>Energy modeling has traditionally been split between applications modeling the operation of buildings during typical years and those modeling buildings during actual years.  Actual year simulation is most commonly used when calibrating simulated energy use against past measured energy use over a period of time.  Typical year simulation is used when making predictions of future energy use.  This all makes sense, we know what past weather and other conditions were but we cannot yet predict the future [reference needed].  The majority of energy modeling applications use the typical year simulation. Because typical year simulations occur in a "typical" year and not an actual year, energy modelers have become accustomed to working with dates that do not specify a year.  This can be seen in the EnergyPlus RunPeriod object (which includes fields 'Begin Month', 'Begin Day of Month', 'End Month', 'End Day of Month', and 'Day of Week for Start Day' but no 'Begin Year' or 'End Year' fields) as well as the EnergyPlus outputs (timestamps in the ESO file do not include years).</p>
<p>This practice leads to problems when trying to leverage Date/Time aware software libraries to process EnergyPlus simulation input and output.  Most software libraries require Date/Times to specify an actual year as well as a time zone.  This is important for real world applications like meeting someone at a particular date and time.  Therefore, in order to use a software calendar widget to create a schedule or to use a flashy html timeseries plot (which we want to do for actual as well as typical year simulations) we have to have a year in addition to the month and day that are required for EnergyPlus simulation (and are available in the EnergyPlus output). OpenStudio has created a scheme to come up with a year for all simulation models (typical or actual) in order to interface with these Date/Time software libraries.</p>
<h3 id="runperiod">RunPeriod</h3>
<p>The OpenStudio RunPeriod object determines the time period for which to run the simulation.  Like EnergyPlus, the run period is specified with the start day and month and the end day and month for the simulation.  Unlike EnergyPlus, OpenStudio only allows for one unique RunPeriod object in each OpenStudio Model.  The maximum length of a RunPeriod in OpenStudio is one year.  If the start day and month is less than the end day and month, then the start date is assumed to be in the same year as the end date.  If the end day and month is less than the start day and month, then the end date is assumed to be in the year following the start date's year.</p>
<h3 id="yeardescription">YearDescription</h3>
<p>In addition to the RunPeriod object, the OpenStudio Model includes a unique YearDescription object.  This object specifies either an actual year OR the day of the week of the first day in the simulation and whether or not the year of the first day of the simulation is a leap year.  If the user specifies the year in the second format (e.g. simulation starts on a Monday of a year that is not a leap year), OpenStudio searches either forward or backwards in time to find an actual year which meets these criteria.  The default year if no criteria are entered is 2009 which was the birth year of OpenStudio!</p>
<!--- There is a bug, #1895, in OpenStudio here, openstudio::YearDescription uses Jan 1 where we really want to specify the day of week of the day the simulation starts --->

<p>The YearDescription object includes the <code>makeDate</code> method which can be used to create a Date object with the same assumed base year as the rest of the OpenStudio model. Any dates returned by the OpenStudio Model API (e.g. from schedules) will be created using the makeDate method of the current YearDescription object.  If the YearDescription object is updated, you will need to recompute any dates for the current model.  Similarly, any dates passed into the OpenStudio Model API (e.g. for schedules) will be checked against the current YearDescription object.  If you did not make these dates using the makeDate method you may see a warning about "Comparing dates with improper base years".</p>
<p>There is currently a deficiency in the OpenStudio SqlFile class.  Timeseries results returned from the SqlFile do not use the YearDescription object.  Therefore, timeseries results returned from the SqlFile will contain dates that appear to be from 2009.  This can be a particular issue if the simulation period includes a leap day. <!--- Issue #817 ---></p>
<h3 id="weather-data">Weather Data</h3>
<p>The idea of actual vs typical years also appears in the weather files used for simulation.  Typical Meteorological Year (TMY) weather files are assembled by combining weather data from different months across multiple years.  Actual  Meteorological Year (AMY) weather files contain weather data for a contiguous period.  The EpwFile class detects whether a given EPW file is a TMY or AMY when it is read, the <code>isActual</code> method returns true if the weather file includes actual year data.  The RunPeriod and YearDescription objects are reset to match the weather file when assigning a new EPW file using the OpenStudio Application.  Any dates returned from the EpwFile class will be constructed using the year specified within the EPW file, the OpenStudio Model's YearDescription object is not used.</p>
<h3 id="utility-bills">Utility Bills</h3>
<p>Utility bill data entered in OpenStudio to support calibration against actual measured energy use is always specified using an actual date.  In order to compare data in the simulation results with measured utility data, the simulation dates (as specified by the RunPeriod and YearDescription objects) must overlap the billing period dates.</p>
<h2 id="time-in-openstudio">Time in OpenStudio</h2>
<h3 id="timeseries">Timeseries</h3>
<p>Coming soon</p>
      <div class="footer">
  <p class="text-center"><a href="https://unmethours.com/questions/scope:all/sort:activity-desc/tags:openstudio/">Get
    Help</a> | <a href="mailto:osc@openstudiocoalition.org">Contact the OpenStudio Coalition</a></p>
  <p class="text-center"><a href="https://www.openstudio.net">OpenStudio</a><sup>&reg;</sup> is developed in
    collaboration by NREL, ANL, LBNL, ORNL, and PNNL.</p>
  <p class="text-center">OpenStudio<sup>&reg;</sup> is a registered trademark of the Alliance for Sustainable Energy,
    LLC.</p>
  <p class="text-center"><a href="http://www.nrel.gov">NREL</a> is a National Laboratory of the U.S. Department of
    Energy, Office of Energy Efficiency and Renewable Energy, operated by the Alliance for Sustainable Energy, LLC.</p>
</div>
    </div>
  </div>
</div>


<script src="../../js/jquery-2.1.1.min.js"></script>
<script src="../../js/bootstrap-3.3.0.min.js"></script>
<script src="../../js/bootstrap-hover-dropdown-2.0.11.min.js"></script>
<script src="../../js/prettify-1.0.min.js"></script>
<script src="../../js/base.js"></script>
</body>
</html>